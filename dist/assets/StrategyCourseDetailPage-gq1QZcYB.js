import{j as e}from"./vendor-query-sc-3RV5c.js";import{e as O,u as R,r as c,L as p}from"./vendor-react-BsyC4uYt.js";import{u as U,c as A,p as F,m as H,b as x,s as _,i as K,S as V}from"./main-D0rS4Jd8.js";import{b as W,u as q,a as z,g as B}from"./useCourses-Bw7Ha0oR.js";import{P as G}from"./ProgressIndicator-DzlufiZJ.js";import{C as J}from"./ContentCard-AiILl20D.js";import{S as Q}from"./SEO-BQWZoWKI.js";import{F as X,A as Y}from"./FeaturedImage-Cu245Fwj.js";import{c as Z,C as N}from"./vendor-ui-BIzQpSM7.js";import"./vendor-helmet-BvUtKEoN.js";import"./auth-BiqxfGvi.js";function ue(){var b,j;const{slug:o,lang:w}=O(),S=R(),{t:a,tWithReplace:g}=U(),i=A(),n=w||F(S.pathname).lang||void 0,h=n||i||null;c.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[o]);const{data:s,isLoading:L,isError:k}=W(o,n),{data:t=[],isLoading:C}=q(n,i),{data:f=[],isLoading:M}=z({per_page:100,orderby:"date",order:"desc",lang:n}),y=c.useMemo(()=>B(f,t,o,h,9),[f,t,o,h]),{currentStep:$,nextStep:m,previousStep:u}=c.useMemo(()=>{if(!o||t.length===0)return{currentStep:null,nextStep:null,previousStep:null};const r=t.findIndex(I=>I.slug===o);return r===-1?{currentStep:null,nextStep:null,previousStep:null}:{currentStep:t[r],nextStep:r<t.length-1?t[r+1]:null,previousStep:r>0?t[r-1]:null}},[o,t]);if(c.useEffect(()=>{s&&s.steps!==null&&s.steps!==void 0&&s.steps>=1&&s.steps<=20&&H(s.slug)},[s]),L||C||M)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"}),e.jsx("p",{className:"mt-4 text-gray-600",children:a("ui_loading")})]})});if(k||!s)return e.jsxs("div",{className:"container-custom py-16 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:a("error_course_not_found")}),e.jsx("p",{className:"text-gray-600 mb-8",children:a("error_course_not_found_desc")}),e.jsx(p,{to:x("/strategy-courses",n||null,i),className:"text-primary-500 hover:text-primary-600 font-medium",children:a("nav_back_to_strategy_courses")})]});const l=s.steps&&s.steps>=1&&s.steps<=20?`${s.steps}. ${s.title.rendered}`:s.title.rendered,v=(b=s.excerpt)!=null&&b.rendered?_(s.excerpt.rendered):_(s.content.rendered).substring(0,160),D=`M2DMM strategy course, ${l}, MVP course step ${s.steps||""}, media to movements, disciple making strategy, ${l.toLowerCase()}`,E=c.useMemo(()=>K(s.content.rendered),[s.content.rendered]),d=typeof window<"u"?window.location.origin:"https://ai.kingdom.training",P=`${d}/strategy-courses/${s.slug}`,T=`${d}/wp-content/themes/kingdom-training-theme/dist/kt-logo-header.webp`;return e.jsxs("article",{children:[e.jsx(Q,{title:l,description:v,keywords:D,image:s.featured_image_url,url:`/strategy-courses/${s.slug}`,type:"article",author:(j=s.author_info)==null?void 0:j.name,publishedTime:s.date,modifiedTime:s.modified}),e.jsx(V,{course:{name:l,description:v,provider:{name:"Kingdom.Training",url:d},courseCode:s.steps?`MVP-STEP-${s.steps}`:void 0,educationalLevel:"Professional Development",teaches:["Media to Disciple Making Movements","Digital Evangelism","Online Ministry Strategy","Disciple Making Movements"],image:s.featured_image_url||T},breadcrumbs:{items:[{name:a("breadcrumb_home"),url:d},{name:a("nav_strategy_courses"),url:`${d}/strategy-courses`},{name:l,url:P}]}}),s.featured_image_url&&e.jsx(X,{src:s.featured_image_url,alt:s.title.rendered}),e.jsx("div",{className:"container-custom py-12 bg-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto relative",children:[e.jsx(Y,{postId:s.id}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:a("course_strategy_course")})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:s.steps&&s.steps>=1&&s.steps<=20?`${s.steps}. ${s.title.rendered}`:s.title.rendered})]}),t.length>0&&t.some(r=>r.slug===o)&&e.jsx(G,{stepSlugs:t.map(r=>r.slug),totalSteps:t.length,className:"mb-8"}),e.jsx("div",{className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-headings:font-bold prose-h1:text-4xl prose-h2:text-3xl prose-h3:text-2xl prose-p:my-6 prose-strong:text-gray-900 prose-strong:font-bold prose-a:text-primary-500 prose-a:no-underline hover:prose-a:underline prose-ul:my-6 prose-ol:my-6 prose-li:my-2",dangerouslySetInnerHTML:{__html:E}}),$&&e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[u?e.jsxs(p,{to:x(`/strategy-courses/${u.slug}`,n||null,i),className:"inline-flex items-center px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 font-semibold rounded-lg hover:border-primary-500 hover:text-primary-600 transition-all duration-200",children:[e.jsx(Z,{className:"w-5 h-5 mr-2"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:a("nav_previous")}),e.jsx("div",{className:"text-sm font-semibold",children:g("nav_step",{number:u.steps||t.indexOf(u)+1})})]})]}):e.jsx("div",{}),m?e.jsxs(p,{to:x(`/strategy-courses/${m.slug}`,n||null,i),className:"inline-flex items-center px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-lg transition-colors duration-200",children:[e.jsxs("div",{className:"text-right mr-2",children:[e.jsx("div",{className:"text-xs text-white/80 uppercase tracking-wide",children:a("nav_next")}),e.jsx("div",{className:"text-sm font-semibold",children:g("nav_step",{number:m.steps||t.indexOf(m)+1})})]}),e.jsx(N,{className:"w-5 h-5"})]}):e.jsxs(p,{to:x("/strategy-courses",n||null,i),className:"inline-flex items-center px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-lg transition-colors duration-200",children:[e.jsx("span",{children:a("nav_back_to_course_overview")}),e.jsx(N,{className:"w-5 h-5 ml-2"})]})]})})]})}),y.length>0&&e.jsx("section",{className:"py-16 bg-background-50 border-t border-gray-200",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:a("content_additional_resources")}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed max-w-3xl mx-auto",children:a("content_supplementary_materials")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(r=>e.jsx(J,{post:r,type:"strategy-courses",lang:n||null,defaultLang:i},r.id))})]})})})]})}export{ue as default};
