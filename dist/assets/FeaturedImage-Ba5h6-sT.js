import{j as o}from"./vendor-query-sc-3RV5c.js";import{r as l}from"./vendor-react-BsyC4uYt.js";import{g as m}from"./auth-BiqxfGvi.js";import{u as p,v as f}from"./main-CV2fUb0O.js";import{d as h}from"./vendor-ui-BIzQpSM7.js";function A({postId:s}){const{t:a}=p(),[i,r]=l.useState(null),[d,c]=l.useState(!0);if(l.useEffect(()=>{console.log("AdminEditLink - Component mounted, postId:",s);async function e(){try{const t=await m();r(t),t?(console.log("AdminEditLink - User:",t),console.log("AdminEditLink - Roles:",t.roles),console.log("AdminEditLink - Capabilities:",t.capabilities)):console.log("AdminEditLink - No user returned from getCurrentUser()")}catch(t){console.error("AdminEditLink - Error fetching user:",t),r(null)}finally{c(!1)}}e()},[s]),d||!i||!(()=>{if(i.roles&&Array.isArray(i.roles)&&(i.roles.includes("administrator")||i.roles.includes("editor")))return console.log("AdminEditLink - User has editor/administrator role"),!0;if(!i.capabilities)return console.log("AdminEditLink - No capabilities found"),!1;if(Array.isArray(i.capabilities)){const e=i.capabilities.includes("edit_posts")||i.capabilities.includes("edit_others_posts")||i.capabilities.includes("administrator");return console.log("AdminEditLink - Array capabilities check:",e),e}else if(typeof i.capabilities=="object"&&i.capabilities!==null){const e=i.capabilities,t=e.edit_posts===!0||e.edit_others_posts===!0||e.administrator===!0||e.edit_posts===1||e.edit_others_posts===1||e.administrator===1||e.edit_posts==="1"||e.edit_others_posts==="1"||e.administrator==="1"||e.level_10===!0||e.level_10===1||e.level_10==="1"||Object.keys(e).some(n=>n==="administrator"||n==="editor"||n.startsWith("edit_")&&e[n]);return console.log("AdminEditLink - Object capabilities check:",t,"Keys:",Object.keys(e)),t}return console.log("AdminEditLink - Capabilities format not recognized"),!1})())return null;const u=`/wp-admin/post.php?post=${s}&action=edit`;return o.jsx("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"fixed top-20 right-4 z-50 p-2 bg-white rounded-full shadow-lg hover:shadow-xl transition-shadow duration-200 border border-gray-200 hover:border-primary-500 group",title:a("admin_edit_link_title"),"aria-label":a("admin_edit_link_aria_label"),children:o.jsx(h,{className:"w-5 h-5 text-gray-600 group-hover:text-primary-500 transition-colors duration-200"})})}function E({src:s,alt:a,imageSizes:i}){const r=f(i);return o.jsxs("div",{className:"w-full h-48 md:h-96 bg-gray-200 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 w-full h-full z-0",style:{backgroundImage:`url(${s})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(20px)",transform:"scale(1.1)"},"aria-hidden":"true"}),o.jsx("div",{className:"relative w-full h-full flex items-center justify-center z-10",children:o.jsx("img",{src:s,alt:a,loading:"eager",decoding:"async",fetchPriority:"high",width:"1200",height:"675",srcSet:r==null?void 0:r.srcset,sizes:r==null?void 0:r.sizes,className:"max-w-full max-h-full object-contain",style:{aspectRatio:"16 / 9"}})})]})}export{A,E as F};
